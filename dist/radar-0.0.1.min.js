function radar_visualization(t){console.log("FOOBAR");var e=42;function r(){var t=1e4*Math.sin(e++);return t-Math.floor(t)}function n(t,e){return t+.5*(r()+r())*(e-t)}const a=[{radial_min:0,radial_max:.5,factor_x:1,factor_y:1},{radial_min:.5,radial_max:1,factor_x:-1,factor_y:1},{radial_min:-1,radial_max:-.5,factor_x:-1,factor_y:-1},{radial_min:-.5,radial_max:0,factor_x:1,factor_y:-1}],i=[{radius:130},{radius:220},{radius:310},{radius:400}],o=-675,l=-420,s=-675,d=420,c=[{x:450,y:90},{x:-675,y:90},{x:-675,y:-310},{x:450,y:-310}];function f(t){var e=t.x,r=t.y;return{t:Math.atan2(r,e),r:Math.sqrt(e*e+r*r)}}function u(t){return{x:t.r*Math.cos(t.t),y:t.r*Math.sin(t.t)}}function y(t,e,r){var n=Math.min(e,r),a=Math.max(e,r);return Math.min(Math.max(t,n),a)}function p(t,e,r){return{t:t.t,r:y(t.r,e,r)}}function m(t,e,r){return{x:y(t.x,e.x,r.x),y:y(t.y,e.y,r.y)}}function x(t,e){var o={t:a[t].radial_min*Math.PI,r:0===e?30:i[e-1].radius},l={t:a[t].radial_max*Math.PI,r:i[e].radius},s={x:15*a[t].factor_x,y:15*a[t].factor_y},d={x:i[3].radius*a[t].factor_x,y:i[3].radius*a[t].factor_y};return{clipx:function(t){var e=p(f(m(t,s,d)),o.r+15,l.r-15);return t.x=u(e).x,t.x},clipy:function(t){var e=p(f(m(t,s,d)),o.r+15,l.r-15);return t.y=u(e).y,t.y},random:function(){return u({t:(t=o.t,e=l.t,t+r()*(e-t)),r:n(o.r,l.r)});var t,e}}}for(var h=0;h<t.entries.length;h++){(w=t.entries[h]).segment=x(w.quadrant,w.ring);var v=w.segment.random();w.x=v.x,w.y=v.y,w.color=w.active||t.print_layout?t.rings[w.ring].color:t.colors.inactive}for(var g=new Array(4),b=0;b<4;b++){g[b]=new Array(4);for(var _=0;_<4;_++)g[b][_]=[]}for(h=0;h<t.entries.length;h++){var w=t.entries[h];g[w.quadrant][w.ring].push(w)}var A=1;for(var b of[2,3,1,0])for(_=0;_<4;_++){var M=g[b][_];M.sort(function(t,e){return t.label.localeCompare(e.label)});for(h=0;h<M.length;h++)M[h].id=""+A++}function k(t,e){return"translate("+t+","+e+")"}var z=d3.select("svg#"+t.svg_id).style("background-color",t.colors.background).attr("width",t.width).attr("height",t.height);document.querySelector("svg#"+t.svg_id).addEventListener("click",D);var q=z.append("g");"zoomed_quadrant"in t?z.attr("viewBox",function(t){return[Math.max(0,400*a[t].factor_x)-420,Math.max(0,400*a[t].factor_y)-420,440,440].join(" ")}(t.zoomed_quadrant)):q.attr("transform",k(t.width/2,t.height/2));var E=q.append("g");E.append("line").attr("x1",0).attr("y1",-400).attr("x2",0).attr("y2",400).style("stroke",t.colors.grid).style("stroke-width",1),E.append("line").attr("x1",-400).attr("y1",0).attr("x2",400).attr("y2",0).style("stroke",t.colors.grid).style("stroke-width",1);var H=E.append("defs").append("filter").attr("x",0).attr("y",0).attr("width",1).attr("height",1).attr("id","solid");H.append("feFlood").attr("flood-color","rgb(0, 0, 0, 0.8)"),H.append("feComposite").attr("in","SourceGraphic");for(h=0;h<i.length;h++)E.append("circle").attr("cx",0).attr("cy",0).attr("r",i[h].radius).style("fill","none").style("stroke",t.colors.grid).style("stroke-width",1),t.print_layout&&E.append("text").text(t.rings[h].name).attr("y",62-i[h].radius).attr("text-anchor","middle").style("fill","#e5e5e5").style("font-family","Arial, Helvetica").style("font-size",42).style("font-weight","bold").style("pointer-events","none").style("user-select","none");function I(t,e,r=null){var n=e<2?0:120,a=null==r?-16:12*r;return e%2==1&&(a=a+36+12*g[t][e-1].length),k(c[t].x+n,c[t].y+a)}if(t.print_layout){q.append("text").attr("transform",k(o,l)).text(t.title).style("font-family","Arial, Helvetica").style("font-size","34"),q.append("text").attr("transform",k(s,d)).text("▲ moved up     ▼ moved down").attr("xml:space","preserve").style("font-family","Arial, Helvetica").style("font-size","16");var B=q.append("g");for(b=0;b<4;b++){B.append("text").attr("transform",k(c[b].x,c[b].y-45)).text(t.quadrants[b].name).style("font-family","Arial, Helvetica").style("font-size","18");for(_=0;_<4;_++)B.append("text").attr("transform",I(b,_)).text(t.rings[_].name).style("font-family","Arial, Helvetica").style("font-size","12").style("font-weight","bold"),B.selectAll(".legend"+b+_).data(g[b][_]).enter().append("text").attr("transform",function(t,e){return I(b,_,e)}).attr("class","legend"+b+_).attr("id",function(t,e){return"legendItem"+t.id}).text(function(t,e){return t.id+". "+t.label}).style("font-family","Arial, Helvetica").style("font-size","11").on("mouseover",function(t){L(t),P(t)}).on("mouseout",function(t){O(t),T(t)})}}var S=q.append("g").attr("id","rink"),C=q.append("g").attr("id","bubble").attr("x",0).attr("y",0).style("opacity",0).style("pointer-events","none").style("user-select","none");function L(e){if(e.active||t.print_layout){var r=d3.select("#bubble text").text(e.label).node().getBBox();d3.select("#bubble").attr("transform",k(e.x-r.width/2,e.y-16)).style("opacity",.8),d3.select("#bubble rect").attr("x",-5).attr("y",-r.height).attr("width",r.width+10).attr("height",r.height+4),d3.select("#bubble path").attr("transform",k(r.width/2-5,3))}}function O(t){d3.select("#bubble").attr("transform",k(0,0)).style("opacity",0)}function P(e){var r=document.getElementById("legendItem"+e.id);r.setAttribute("filter","url(#solid)"),r.setAttribute("fill","white"),r.style.cursor="pointer",r.addEventListener("click",r=>{!function(e){let r=document.querySelector("#description"),n=document.querySelector("#close");r||((r=document.createElement("div")).setAttribute("id","description"),document.body.appendChild(r));n||((n=document.createElement("div")).setAttribute("id","close"),document.body.appendChild(n));const a=document.getElementById("legendItem"+e.id).getBoundingClientRect(),i=a.top+a.height+window.pageYOffset-document.documentElement.clientTop,o=a.left+window.pageXOffset-document.documentElement.clientLeft;r.style.top=i,r.style.left=o,r.style.width=`${t.description.width}px`,r.style.height=`${t.description.height}px`,r.innerHTML=DOMPurify.sanitize(e.description),r.style.display="block",n.style.top=i,n.style.left=o+t.description.width-1,n.innerHTML="x",n.addEventListener("click",D,{once:!0}),n.style.display="block"}(e),r.stopPropagation()},{once:!0})}function T(t){var e=document.getElementById("legendItem"+t.id);e.removeAttribute("filter"),e.removeAttribute("fill")}function D(){document.querySelector("#description").setAttribute("style","display: none;"),document.querySelector("#close").setAttribute("style","display: none;")}C.append("rect").attr("rx",4).attr("ry",4).style("fill","#333"),C.append("text").style("font-family","sans-serif").style("font-size","10px").style("fill","#fff"),C.append("path").attr("d","M 0,0 10,0 5,8 z").style("fill","#333");var F=S.selectAll(".blip").data(t.entries).enter().append("g").attr("class","blip").attr("transform",function(t,e){return I(t.quadrant,t.ring,e)}).on("mouseover",function(t){L(t),P(t)}).on("mouseout",function(t){O(),T(t)});F.each(function(e){var r=d3.select(this);if(!t.print_layout&&e.active&&e.hasOwnProperty("link")&&(r=r.append("a").attr("xlink:href",e.link)),e.moved>0?r.append("path").attr("d","M -11,5 11,5 0,-13 z").style("fill",e.color):e.moved<0?r.append("path").attr("d","M -11,-5 11,-5 0,13 z").style("fill",e.color):r.append("circle").attr("r",9).attr("fill",e.color),e.active||t.print_layout){var n=t.print_layout?e.id:e.label.match(/[a-z]/i);r.append("text").text(n).attr("y",3).attr("text-anchor","middle").style("fill","#fff").style("font-family","Arial, Helvetica").style("font-size",function(t){return n.length>2?"8":"9"}).style("pointer-events","none").style("user-select","none")}}),d3.forceSimulation().nodes(t.entries).velocityDecay(.19).force("collision",d3.forceCollide().radius(12).strength(.85)).on("tick",function(){F.attr("transform",function(t){return k(t.segment.clipx(t),t.segment.clipy(t))})})}